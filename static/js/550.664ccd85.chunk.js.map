{"version":3,"file":"static/js/550.664ccd85.chunk.js","mappings":"uOAqCA,QA/BA,WASE,OACEA,EAAAA,EAAAA,KAACC,EAAc,CAAAC,UACbC,EAAAA,EAAAA,MAACC,EAAmB,CAAAF,SAAA,EAClBF,EAAAA,EAAAA,KAACK,EAAI,CACHC,IAAI,yEACJC,IAAI,iBAENP,EAAAA,EAAAA,KAACQ,EAAK,CAAAN,SAAC,uBACPF,EAAAA,EAAAA,KAACS,EAAQ,CAAAP,SAAC,iCACVF,EAAAA,EAAAA,KAACU,EAAiB,CAChBC,SArBOC,2EAsBPC,WAAW,sBACXC,UApBWC,IACjBC,QAAQC,IAAI,8BAA+BF,EAAIG,WAAW,EAoBpDC,UAjBWJ,IACjBC,QAAQC,IAAI,qBAAsBF,EAAI,EAiBhCK,aAAc,qBACdC,YAAY,QAKtB,EAIMpB,EAAiBqB,EAAAA,GAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,gIAQ3BrB,EAAsBkB,EAAAA,GAAOC,IAAGG,IAAAA,GAAAD,EAAAA,EAAAA,GAAA,kPAWhCpB,EAAOiB,EAAAA,GAAOK,IAAGC,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,mDAKjBjB,EAAQc,EAAAA,GAAOO,GAAEC,IAAAA,GAAAL,EAAAA,EAAAA,GAAA,iEAMjBhB,EAAWa,EAAAA,GAAOS,EAACC,IAAAA,GAAAP,EAAAA,EAAAA,GAAA,kDAKnBf,GAAoBY,EAAAA,EAAAA,IAAOW,EAAAA,YAAPX,CAAmBY,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,kO,eCb7C,QApDA,WACE,MAAOJ,EAAYc,IAAiBC,EAAAA,EAAAA,WAAS,GA4C7C,OA1CAC,EAAAA,EAAAA,YAAU,KAeR,SAASC,EAAmBjB,GAC1Bc,EAAcd,GACVA,GAQR,WACE,IAAIkB,EAAcC,EAAAA,GAAKC,KAAKC,WAAWC,aAEvCC,MAAM,2CAA4C,CAChDC,OAAQ,OACRC,QAAS,IAAIC,QAAQ,CAAE,cAAiB,UAAYR,MACnDS,MAAMjC,GACAA,EAAIkC,SACVD,MAAK,SAASE,GACflC,QAAQC,IAAIiC,GACZ,MAAMC,EAAgB,sCAAwCD,EAAIE,WAAa,QAC/EC,OAAOC,KAAKH,EAAe,UAE3BE,OAAOE,SAASC,KAAO,4BACzB,GACF,CAtBMC,EAEJ,CAEAjB,EAAAA,GAAKkB,KAAK,gBArBVC,iBACE,UACQnB,EAAAA,GAAKoB,OAAOC,KAAK,CACrBC,OAVMlD,0CAWND,SAZQC,2EAaRmD,MAXK,+CAaPvB,EAAAA,GAAKwB,MAAMC,kBAAkB5C,WAAW6C,OAAO5B,GAC/CA,EAAmBE,EAAAA,GAAKwB,MAAMC,kBAAkB5C,WAAW8C,MAC7D,CAAE,MAAOC,GACPpD,QAAQoD,MAAM,2BAA4BA,EAC5C,CACF,GASgC,GAC/B,KAoBDpE,EAAAA,EAAAA,KAAA,OAAKqE,UAAU,MAAKnE,SAChBmB,GAA+BrB,EAAAA,EAAAA,KAAA,KAAAE,SAAG,mCAArBF,EAAAA,EAAAA,KAACsE,EAAW,KAGjC,C","sources":["pages/GoogleDocs/login.js","pages/GoogleDocs/App.js"],"sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { GoogleLogin } from 'react-google-login';\r\n\r\nconst clientId = process.env.REACT_APP_CLIENT_ID;\r\n\r\nfunction Login() {\r\n  const onSuccess = (res) => {\r\n    console.log('Login Success: currentUser:', res.profileObj);\r\n  };\r\n\r\n  const onFailure = (res) => {\r\n    console.log('Login failed: res:', res);\r\n  };\r\n\r\n  return (\r\n    <LoginContainer>\r\n      <LoginInnerContainer>\r\n        <Logo\r\n          src=\"https://www.gstatic.com/images/icons/material/product/2x/docs_48dp.png\"\r\n          alt=\"Google Logo\"\r\n        />\r\n        <Title>Sign in to Google</Title>\r\n        <Subtitle>To create a Google Document</Subtitle>\r\n        <StyledGoogleLogin\r\n          clientId={clientId}\r\n          buttonText=\"Sign in with Google\"\r\n          onSuccess={onSuccess}\r\n          onFailure={onFailure}\r\n          cookiePolicy={'single_host_origin'}\r\n          isSignedIn={true}\r\n        />\r\n      </LoginInnerContainer>\r\n    </LoginContainer>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n\r\nconst LoginContainer = styled.div`\r\n  background-color: #f8f8f8;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst LoginInnerContainer = styled.div`\r\n  padding: 50px;\r\n  text-align: center;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  box-shadow: 0 1px 6px rgba(0,0,0,0.1), 0 1px 4px rgba(0,0,0,0.12);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  height: 80px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  margin: 20px 0;\r\n  color: #333;\r\n  font-size: 24px;\r\n`;\r\n\r\nconst Subtitle = styled.p`\r\n  color: #666;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst StyledGoogleLogin = styled(GoogleLogin)`\r\n  margin-top: 20px;\r\n  button {\r\n    text-transform: none !important;\r\n    background-color: #4285f4 !important;\r\n    color: white !important;\r\n    &:hover {\r\n      background-color: #357ae8 !important;\r\n    }\r\n  }\r\n`;\r\n","import './App.css';\r\nimport React, { useState, useEffect } from 'react';\r\nimport LoginButton from './login';\r\nimport { gapi } from 'gapi-script';\r\n\r\nconst client_Id = process.env.REACT_APP_CLIENT_ID;\r\nconst api_key = process.env.REACT_APP_API_KEY;\r\nconst Scopes = 'https://www.googleapis.com/auth/drive.file';\r\n\r\nfunction App() {\r\n  const [isSignedIn, setIsSignedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function start() {\r\n      try {\r\n        await gapi.client.init({\r\n          apiKey: api_key,\r\n          clientId: client_Id,\r\n          scope: Scopes\r\n        });\r\n        gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);\r\n        updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\r\n      } catch (error) {\r\n        console.error('Error initializing gapi:', error);\r\n      }\r\n    }\r\n\r\n    function updateSigninStatus(isSignedIn) {\r\n      setIsSignedIn(isSignedIn);\r\n      if (isSignedIn) {\r\n        createFile();\r\n      }\r\n    }\r\n\r\n    gapi.load('client:auth2', start);\r\n  }, []);\r\n\r\n  function createFile() {\r\n    var accessToken = gapi.auth.getToken().access_token;\r\n\r\n    fetch('https://docs.googleapis.com/v1/documents', {\r\n      method: \"POST\",\r\n      headers: new Headers({ 'Authorization': 'Bearer ' + accessToken }),\r\n    }).then((res) => {\r\n      return res.json();\r\n    }).then(function(val) {\r\n      console.log(val);\r\n      const googleDocsUrl = 'https://docs.google.com/document/d/' + val.documentId + '/edit';\r\n      window.open(googleDocsUrl, \"_blank\");\r\n\r\n      window.location.href = 'http://localhost:3001/apps';\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {!isSignedIn ? <LoginButton /> : <p>Redirecting to Google Docs...</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"names":["_jsx","LoginContainer","children","_jsxs","LoginInnerContainer","Logo","src","alt","Title","Subtitle","StyledGoogleLogin","clientId","process","buttonText","onSuccess","res","console","log","profileObj","onFailure","cookiePolicy","isSignedIn","styled","div","_templateObject","_taggedTemplateLiteral","_templateObject2","img","_templateObject3","h1","_templateObject4","p","_templateObject5","GoogleLogin","_templateObject6","setIsSignedIn","useState","useEffect","updateSigninStatus","accessToken","gapi","auth","getToken","access_token","fetch","method","headers","Headers","then","json","val","googleDocsUrl","documentId","window","open","location","href","createFile","load","async","client","init","apiKey","scope","auth2","getAuthInstance","listen","get","error","className","LoginButton"],"sourceRoot":""}